---
layout: default
format: frontpage
---
{% comment %}
<div id="header-home">
    <div class="row">
        <div class="small-12 columns header-home-inner">

            {%- comment -%}
                Automatically gather all files in /images/headers/
            {%- endcomment -%}
            {%- assign header_images = site.static_files | where_exp: "img", "img.path contains '/images/headers/'" -%}

            {%- if header_images.size > 0 -%}
                {%- assign header_image = header_images | sample -%}
                <img class="header-home-image" src="{{ header_image.path }}" alt="{{ page.title | default: site.title }}">
            {%- endif -%}

        </div>
    </div>
</div>
{% endcomment %}



{% assign highlights = site.data.highlights %}

<div class="row t60">

  {%- if highlights.left -%}
    {%- assign hl = highlights.left -%}
    {%- if hl.title or hl.image or hl.video -%}
      {% include _frontpage-highlight.html highlight=hl %}
    {%- endif -%}
  {%- endif -%}

  {%- if highlights.center -%}
    {%- assign hc = highlights.center -%}
    {%- if hc.title or hc.image or hc.video -%}
      {% include _frontpage-highlight.html highlight=hc %}
    {%- endif -%}
  {%- endif -%}

  {%- if highlights.right -%}
    {%- assign hr = highlights.right -%}
    {%- if hr.title or hr.image or hr.video -%}
      {% include _frontpage-highlight.html highlight=hr %}
    {%- endif -%}
  {%- endif -%}

</div><!-- /.Highlights -->




{% comment %}
     Display Articles (Collections)
     - In development: include drafts (published:false)
     - In production: only show published content
{% endcomment %}

{%- assign All_Articles = site.content_articles | sort: "date" | reverse -%}

{%- if jekyll.environment == "production" -%}
    {%- assign Latest_Articles = All_Articles | where_exp: "item", "item.published != false" -%}
{%- else -%}
    {%- assign Latest_Articles = All_Articles -%}
{%- endif -%}

{% unless Latest_Articles == empty %}

{% include section-heading.html title=site.data.language.articles_latest %}

{% for post in Latest_Articles limit:7 %}
    <div class="row t30 b30 homepage">
        <div class="small-12 columns">
            <article class="home-card{% if post.published == false %} home-card-draft{% endif %}">

                <div class="row">
                    <!-- Thumbnail column -->
                    <div class="small-12 medium-4 columns">
                        {% if post.image.thumb %}
                        <a href="{{ site.url }}{{ site.baseurl }}{{ post.url }}" title="{{ post.title | escape_once }}">
                            <img src="{{ site.urlimg }}{{ post.image.thumb }}" alt="{{ post.title | escape_once }}"
                                class="home-card-thumb">
                        </a>
                        {% elsif post.image.homepage %}
                        <a href="{{ site.url }}{{ site.baseurl }}{{ post.url }}" title="{{ post.title | escape_once }}">
                            <img src="{{ site.urlimg }}{{ post.image.homepage }}" alt="{{ post.title | escape_once }}"
                                class="home-card-thumb">
                        </a>
                        {% endif %}
                    </div>

                    <!-- Text column -->
                    <div class="small-12 medium-8 columns">
                        <div class="categories">
                            {% include _categories.html item=post %}
                        </div>
                        {% if post.published == false %}
                            <div class="home-card-draft-badge">DRAFT</div>
                        {% endif %}

                        <h4 class="home-card-title">
                            <a href="{{ site.url }}{{ site.baseurl }}{{ post.url }}">
                                {{ post.title }}
                            </a>
                        </h4>

                        <div class="home-card-meta">
                            {% if post.author %}
                            <span class="home-card-author">{{ post.author }}</span>
                            {% endif %}
                            <span class="home-card-separator">·</span>
                            <span class="home-card-date">
                                {{ post.date | date: "%b %-d, %Y" }}
                            </span>
                            <span class="home-card-separator">·</span>
                            {% assign words = post.content | strip_html | number_of_words %}
                            {% assign mins = words | divided_by: 225 | at_least: 1 %}
                            <span class="home-card-reading-time">
                                {{ mins }} min read
                            </span>
                        </div>

                        <p class="home-card-excerpt">
                            {%- assign excerpt = "" -%}
                            {%- assign total_words = 40 -%}
                            {%- assign body_text = post.content | strip_html | strip_newlines -%}

                            {%- if post.meta_description -%}
                                {{ post.meta_description | strip_html | escape }}
                                <br />
                            {%- endif -%}

                            {%- if post.teaser -%}
                                {%- assign excerpt = post.teaser -%}
                                {%- assign teaser_words = post.teaser | strip_html | number_of_words -%}
                                {%- assign extra_words = total_words | minus: teaser_words -%}
                                {%- if extra_words > 0 -%}
                                    {%- assign body_excerpt = body_text | split: " " | slice: teaser_words, extra_words | join: " " -%}
                                    {%- assign excerpt = excerpt | append: " " | append: body_excerpt -%}
                                {%- endif -%}
                            {%- else -%}
                                {%- assign excerpt = body_text | split: " " | slice: 0, total_words | join: " " -%}
                            {%- endif -%}

                            {{ excerpt | strip_html | escape }}…
                        </p>

                        <p class="home-card-readmore">
                            <a class="home-card-readmore-link" href="{{ site.url }}{{ site.baseurl }}{{ post.url }}"
                                title="Read {{ post.title | escape_once }}">
                                Read More &#8250;
                            </a>
                        </p>
                    </div>
                </div><!-- /.row -->

            </article><!-- /.home-card -->

        </div><!-- /.small-12.columns -->
    </div><!-- /.row -->
{% endfor %}

{% endunless %}
